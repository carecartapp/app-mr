var isAjaxFbMR=0,isCartLoadingFbMR=0,isCheckForCallFbMR=!0;window.localStorage.setItem("userCartId",null);var showStickyDiscountOpenViewLoad=!1,showStickyDiscountSubscribedViewLoad=!1;function getQueryParametersFbMR(){var e=window.location.search.substr(1);return null!=e&&""!=e?transformToAssocArrayFbMR(e):{}}function transformToAssocArrayFbMR(e){for(var t={},o=e.split("&"),i=0;i<o.length;i++){var n=o[i].split("=");t[n[0]]=n[1]}return t}function scriptInjectionFbMR(e,t){var o=document.createElement("script");o.type="text/javascript",o.src=e,"function"==typeof t&&o.addEventListener("load",t),document.getElementsByTagName("head")[0].appendChild(o)}function cssFileInjectionFbMR(e){var t=document.createElement("link");t.href=e,t.type="text/css",t.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(t)}function includeAllJSCombine(){var e=e||function(e,t){var o={},i=o.lib={},n=function(){},c=i.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,o=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var n=0;n<e;n++)t[i+n>>>2]|=(o[n>>>2]>>>24-n%4*8&255)<<24-(i+n)%4*8;else if(65535<o.length)for(n=0;n<e;n+=4)t[i+n>>>2]=o[n>>>2];else t.push.apply(t,o);return this.sigBytes+=e,this},clamp:function(){var t=this.words,o=this.sigBytes;t[o>>>2]&=4294967295<<32-o%4*8,t.length=e.ceil(o/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var o=[],i=0;i<t;i+=4)o.push(4294967296*e.random()|0);return new s.init(o,t)}}),r=o.enc={},a=r.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var o=[],i=0;i<e;i++){var n=t[i>>>2]>>>24-i%4*8&255;o.push((n>>>4).toString(16)),o.push((15&n).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,o=[],i=0;i<t;i+=2)o[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new s.init(o,t/2)}},d=r.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var o=[],i=0;i<e;i++)o.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return o.join("")},parse:function(e){for(var t=e.length,o=[],i=0;i<t;i++)o[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new s.init(o,t)}},l=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=i.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var o=this._data,i=o.words,n=o.sigBytes,c=this.blockSize,r=n/(4*c);if(t=(r=t?e.ceil(r):e.max((0|r)-this._minBufferSize,0))*c,n=e.min(4*t,n),t){for(var a=0;a<t;a+=c)this._doProcessBlock(i,a);a=i.splice(0,t),o.sigBytes-=n}return new s.init(a,n)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=p.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,o){return new e.init(o).finalize(t)}},_createHmacHelper:function(e){return function(t,o){return new u.HMAC.init(e,o).finalize(t)}}});var u=o.algo={};return o}(Math);!function(t){function o(e,t,o,i,n,c,s){return((e=e+(t&o|~t&i)+n+s)<<c|e>>>32-c)+t}function i(e,t,o,i,n,c,s){return((e=e+(t&i|o&~i)+n+s)<<c|e>>>32-c)+t}function n(e,t,o,i,n,c,s){return((e=e+(t^o^i)+n+s)<<c|e>>>32-c)+t}function c(e,t,o,i,n,c,s){return((e=e+(o^(t|~i))+n+s)<<c|e>>>32-c)+t}for(var s=e,r=(d=s.lib).WordArray,a=d.Hasher,d=s.algo,l=[],p=0;64>p;p++)l[p]=4294967296*t.abs(t.sin(p+1))|0;d=d.MD5=a.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var s=0;16>s;s++){var r=e[a=t+s];e[a]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}s=this._hash.words;var a=e[t+0],d=(r=e[t+1],e[t+2]),p=e[t+3],u=e[t+4],f=e[t+5],h=e[t+6],g=e[t+7],b=e[t+8],m=e[t+9],y=e[t+10],x=e[t+11],w=e[t+12],v=e[t+13],_=e[t+14],k=e[t+15],S=o(S=s[0],R=s[1],M=s[2],F=s[3],a,7,l[0]),F=o(F,S,R,M,r,12,l[1]),M=o(M,F,S,R,d,17,l[2]),R=o(R,M,F,S,p,22,l[3]);S=o(S,R,M,F,u,7,l[4]),F=o(F,S,R,M,f,12,l[5]),M=o(M,F,S,R,h,17,l[6]),R=o(R,M,F,S,g,22,l[7]),S=o(S,R,M,F,b,7,l[8]),F=o(F,S,R,M,m,12,l[9]),M=o(M,F,S,R,y,17,l[10]),R=o(R,M,F,S,x,22,l[11]),S=o(S,R,M,F,w,7,l[12]),F=o(F,S,R,M,v,12,l[13]),M=o(M,F,S,R,_,17,l[14]),S=i(S,R=o(R,M,F,S,k,22,l[15]),M,F,r,5,l[16]),F=i(F,S,R,M,h,9,l[17]),M=i(M,F,S,R,x,14,l[18]),R=i(R,M,F,S,a,20,l[19]),S=i(S,R,M,F,f,5,l[20]),F=i(F,S,R,M,y,9,l[21]),M=i(M,F,S,R,k,14,l[22]),R=i(R,M,F,S,u,20,l[23]),S=i(S,R,M,F,m,5,l[24]),F=i(F,S,R,M,_,9,l[25]),M=i(M,F,S,R,p,14,l[26]),R=i(R,M,F,S,b,20,l[27]),S=i(S,R,M,F,v,5,l[28]),F=i(F,S,R,M,d,9,l[29]),M=i(M,F,S,R,g,14,l[30]),S=n(S,R=i(R,M,F,S,w,20,l[31]),M,F,f,4,l[32]),F=n(F,S,R,M,b,11,l[33]),M=n(M,F,S,R,x,16,l[34]),R=n(R,M,F,S,_,23,l[35]),S=n(S,R,M,F,r,4,l[36]),F=n(F,S,R,M,u,11,l[37]),M=n(M,F,S,R,g,16,l[38]),R=n(R,M,F,S,y,23,l[39]),S=n(S,R,M,F,v,4,l[40]),F=n(F,S,R,M,a,11,l[41]),M=n(M,F,S,R,p,16,l[42]),R=n(R,M,F,S,h,23,l[43]),S=n(S,R,M,F,m,4,l[44]),F=n(F,S,R,M,w,11,l[45]),M=n(M,F,S,R,k,16,l[46]),S=c(S,R=n(R,M,F,S,d,23,l[47]),M,F,a,6,l[48]),F=c(F,S,R,M,g,10,l[49]),M=c(M,F,S,R,_,15,l[50]),R=c(R,M,F,S,f,21,l[51]),S=c(S,R,M,F,w,6,l[52]),F=c(F,S,R,M,p,10,l[53]),M=c(M,F,S,R,y,15,l[54]),R=c(R,M,F,S,r,21,l[55]),S=c(S,R,M,F,b,6,l[56]),F=c(F,S,R,M,k,10,l[57]),M=c(M,F,S,R,h,15,l[58]),R=c(R,M,F,S,v,21,l[59]),S=c(S,R,M,F,u,6,l[60]),F=c(F,S,R,M,x,10,l[61]),M=c(M,F,S,R,d,15,l[62]),R=c(R,M,F,S,m,21,l[63]);s[0]=s[0]+S|0,s[1]=s[1]+R|0,s[2]=s[2]+M|0,s[3]=s[3]+F|0},_doFinalize:function(){var e=this._data,o=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;o[n>>>5]|=128<<24-n%32;var c=t.floor(i/4294967296);for(o[15+(n+64>>>9<<4)]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),o[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(o.length+1),this._process(),o=(e=this._hash).words,i=0;4>i;i++)n=o[i],o[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return e},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),s.MD5=a._createHelper(d),s.HmacMD5=a._createHmacHelper(d)}(Math),window.ccFbMRJquery=jQuery.noConflict(!0),window.FontAwesomeCdnConfig={autoA11y:{enabled:!1},asyncLoading:{enabled:!1},reporting:{enabled:!1},useUrl:"use.fontawesome.com",faCdnUrl:"https://cdn.fontawesome.com:443",code:"e0a385ecbc"},function(){function e(e){var t,o,i,n;e=e||"fa",t=document.querySelectorAll("."+e),Array.prototype.forEach.call(t,function(e){o=e.getAttribute("title"),e.setAttribute("aria-hidden","true"),i=!e.nextElementSibling||!e.nextElementSibling.classList.contains("sr-only"),o&&i&&((n=document.createElement("span")).innerHTML=o,n.classList.add("sr-only"),e.parentNode.insertBefore(n,e.nextSibling))})}!function(){"use strict";function e(){for(;s.length;)s[0](),s.shift()}function t(e){this.a=r,this.b=void 0,this.f=[];var t=this;try{e(function(e){!function e(t,o){if(t.a==r){if(o==t)throw new TypeError;var c=!1;try{var s=o&&o.then;if(null!=o&&"object"==typeof o&&"function"==typeof s)return void s.call(o,function(o){c||e(t,o),c=!0},function(e){c||i(t,e),c=!0})}catch(e){return void(c||i(t,e))}t.a=0,t.b=o,n(t)}}(t,e)},function(e){i(t,e)})}catch(e){i(t,e)}}function o(e){return new t(function(t){t(e)})}function i(e,t){if(e.a==r){if(t==e)throw new TypeError;e.a=1,e.b=t,n(e)}}function n(e){!function(e){s.push(e),1==s.length&&c()}(function(){if(e.a!=r)for(;e.f.length;){var t=(n=e.f.shift())[0],o=n[1],i=n[2],n=n[3];try{0==e.a?i("function"==typeof t?t.call(void 0,e.b):e.b):1==e.a&&("function"==typeof o?i(o.call(void 0,e.b)):n(e.b))}catch(e){n(e)}}})}var c,s=[];c=function(){setTimeout(e)};var r=2;t.prototype.g=function(e){return this.c(void 0,e)},t.prototype.c=function(e,o){var i=this;return new t(function(t,c){i.f.push([e,o,t,c]),n(i)})},window.Promise||(window.Promise=t,window.Promise.resolve=o,window.Promise.reject=function(e){return new t(function(t,o){o(e)})},window.Promise.race=function(e){return new t(function(t,i){for(var n=0;n<e.length;n+=1)o(e[n]).c(t,i)})},window.Promise.all=function(e){return new t(function(t,i){function n(o){return function(i){s[o]=i,(c+=1)==e.length&&t(s)}}var c=0,s=[];0==e.length&&t(s);for(var r=0;r<e.length;r+=1)o(e[r]).c(n(r),i)})},window.Promise.prototype.then=t.prototype.c,window.Promise.prototype.catch=t.prototype.g)}(),function(){function e(e){this.el=e;for(var t=e.className.replace(/^\s+|\s+$/g,"").split(/\s+/),i=0;i<t.length;i++)o.call(this,t[i])}if(!(void 0===window.Element||"classList"in document.documentElement)){var t=Array.prototype,o=t.push,i=t.splice,n=t.join;e.prototype={add:function(e){this.contains(e)||(o.call(this,e),this.el.className=this.toString())},contains:function(e){return-1!=this.el.className.indexOf(e)},item:function(e){return this[e]||null},remove:function(e){if(this.contains(e)){for(var t=0;t<this.length&&this[t]!=e;t++);i.call(this,t,1),this.el.className=this.toString()}},toString:function(){return n.call(this," ")},toggle:function(e){return this.contains(e)?this.remove(e):this.add(e),this.contains(e)}},window.DOMTokenList=e,function(e,t,o){Object.defineProperty?Object.defineProperty(e,t,{get:o}):e.__defineGetter__(t,o)}(Element.prototype,"classList",function(){return new e(this)})}}();var t=null;!function(){function e(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function o(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:"+t+";"}function n(e){var t=e.a.offsetWidth,o=t+100;return e.f.style.width=o+"px",e.c.scrollLeft=o,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function c(t,o){function i(){var e=c;n(e)&&e.a.parentNode&&o(e.g)}var c=t;e(t.b,i),e(t.c,i),n(t)}function s(e,t){var o=t||{};this.family=e,this.style=o.style||"normal",this.weight=o.weight||"normal",this.stretch=o.stretch||"normal"}function r(){if(null===l){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}l=""!==e.style.font}return l}function a(e,t){return[e.style,e.weight,r()?e.stretch:"","100px",t].join(" ")}var d=null,l=null,p=null;s.prototype.load=function(e,t){var n=this,s=e||"BESbswy",r=t||3e3,l=(new Date).getTime();return new Promise(function(e,t){if(null===p&&(p=!!window.FontFace),p){var u=new Promise(function(e,t){!function o(){(new Date).getTime()-l>=r?t():document.fonts.load(a(n,n.family),s).then(function(t){1<=t.length?e():setTimeout(o,25)},function(){t()})}()}),f=new Promise(function(e,t){setTimeout(t,r)});Promise.race([f,u]).then(function(){e(n)},function(){t(n)})}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}(function(){function p(){var t;(t=-1!=g&&-1!=b||-1!=g&&-1!=m||-1!=b&&-1!=m)&&((t=g!=b&&g!=m&&b!=m)||(null===d&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=d&&(g==y&&b==y&&m==y||g==x&&b==x&&m==x||g==w&&b==w&&m==w)),t=!t),t&&(v.parentNode&&v.parentNode.removeChild(v),clearTimeout(_),e(n))}var u=new o(s),f=new o(s),h=new o(s),g=-1,b=-1,m=-1,y=-1,x=-1,w=-1,v=document.createElement("div"),_=0;v.dir="ltr",i(u,a(n,"sans-serif")),i(f,a(n,"serif")),i(h,a(n,"monospace")),v.appendChild(u.a),v.appendChild(f.a),v.appendChild(h.a),document.body.appendChild(v),y=u.a.offsetWidth,x=f.a.offsetWidth,w=h.a.offsetWidth,function e(){if((new Date).getTime()-l>=r)v.parentNode&&v.parentNode.removeChild(v),t(n);else{var o=document.hidden;!0!==o&&void 0!==o||(g=u.a.offsetWidth,b=f.a.offsetWidth,m=h.a.offsetWidth,p()),_=setTimeout(e,50)}}(),c(u,function(e){g=e,p()}),i(u,a(n,'"'+n.family+'",sans-serif')),c(f,function(e){b=e,p()}),i(f,a(n,'"'+n.family+'",serif')),c(h,function(e){m=e,p()}),i(h,a(n,'"'+n.family+'",monospace'))})})},t=s}();var o=function(e,o){for(var i=o.prefix,n=function(e){var o=e.weight?"-"+e.weight:"",n=e.style?"-"+e.style:"",c=e.className?"-"+e.className:"",s=e.className?"-"+e.className+o+n:"",r=document.getElementsByTagName("html")[0].classList,a=function(e){r.add(i+c+"-"+e),r.add(i+s+"-"+e)},d=function(e){r.remove(i+c+"-"+e),r.remove(i+s+"-"+e)};a("loading"),new t(e.familyName).load(e.testString).then(function(){a("ready"),d("loading")},function(){a("failed"),d("loading")})},c=0;c<e.length;c++)n(e[c])},i=function(e){var t=document.createElement("link");t.href=e,t.media="all",t.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(t)},n=function(e){!function(e,t,o){function i(){s.addEventListener&&s.removeEventListener("load",i),s.media=o||"all"}var n,c=window.document,s=c.createElement("link");if(t)n=t;else{var r=(c.body||c.getElementsByTagName("head")[0]).childNodes;n=r[r.length-1]}var a=c.styleSheets;s.rel="stylesheet",s.href=e,s.media="only x",function e(t){return c.body?t():void setTimeout(function(){e(t)})}(function(){n.parentNode.insertBefore(s,t?n:n.nextSibling)});var d=function(e){for(var t=s.href,o=a.length;o--;)if(a[o].href===t)return e();setTimeout(function(){d(e)})};s.addEventListener&&s.addEventListener("load",i),s.onloadcssdefined=d,d(i)}(e)},c=function(e){var t=document.createElement("script"),o=document.scripts[0];t.src=e,o.parentNode.appendChild(t)};try{if(window.FontAwesomeCdnConfig){var s=window.FontAwesomeCdnConfig,r=s.useUrl,a=s.faCdnUrl,d=s.code,l="FontAwesome",p=e.bind(e,"fa"),u=function(){};s.autoA11y.enabled&&(function(e){var t,o=[],i=document,n=i.documentElement.doScroll,c="DOMContentLoaded",s=(n?/^loaded|^c/:/^loaded|^i|^c/).test(i.readyState);s||i.addEventListener(c,t=function(){for(i.removeEventListener(c,t),s=1;t=o.shift();)t()}),s?setTimeout(e,0):o.push(e)}(p),function(e){"undefined"!=typeof MutationObserver&&new MutationObserver(e).observe(document,{childList:!0,subtree:!0})}(p)),s.reporting.enabled&&function(e,t){var o=!1;return e.split(",").forEach(function(e){var i=new RegExp(e.trim().replace(".","\\.").replace("*","(.*)"));t.match(i)&&(o=!0)}),o}(s.reporting.domains,location.host)&&c(a+"/js/stats.js"),cssUrl="https://"+r+"/"+d+".css",new t(l).load("ï‰€").then(function(){((window.FontAwesomeHooks||{}).loaded||u)()},u),s.asyncLoading.enabled?n(cssUrl):i(cssUrl),o([{familyName:l,testString:"ï‰€"}],{prefix:"fa-events-icons"})}}catch(e){}}()}function AbandonedCartFbMR(){var e={},t={domain:Shopify.shop},o="https://app-mr.carecart.io",i="https://cdn.jsdelivr.net/gh/carecartapp/app-mr@2.0.12/",n={},c=null,s=null,r={},a=null,d=!1;function l(e){ccFbMRJquery.ajax({url:"/cart.js",type:"GET",dataType:"JSON",success:function(t){e(t)},error:function(t){e(t.responseText)}})}function p(e){if(1!=isCartLoadingFbMR){var i,n,c=getQueryParametersFbMR();return void 0!==c&&void 0!==c.recover_care_cart&&""!=c.recover_care_cart&&(isCartLoadingFbMR=1,ccFbMRJquery("body").html("Loading...."),i=c.recover_care_cart,n=function(t){u(e,t)},ccFbMRJquery.ajax({url:o+"/api/cart/store-front/"+i,data:{store:t},success:function(e){e.records.hasOwnProperty("cart")?n(e.records.cart):window.location="/cart"}}),!0)}}function u(e,i){var n;n=function(n){var c=0,s=void 0;if((!i.items||!i.items.length>0)&&(window.location="/cart"),i.items.length>0)var r=setInterval(function(){var e,t;null==s?(s=!1,e=i.items[c],t=function(e){c++,s=!0},ccFbMRJquery.ajax({url:"/cart/add.js",type:"POST",dataType:"JSON",data:e,success:function(e){t(e),console.log("------------- Recreation of cart started -------------"),console.log(e),console.log("------------- Recreation of cart end     -------------")}})):1==s&&(s=void 0),c==i.items.length&&(console.log("done ..... "+c),clearInterval(r))},100);var a=setInterval(function(){if(c==i.items.length){if(console.log("Products processed: "+c),clearInterval(a),null==e)return location.reload(),!1;l(function(e){var n=e.token;i.token;!function(e,i,n){var c={newToken:e,store:t};ccFbMRJquery.ajax({url:o+"/api/cart/store-front/update-token/"+i.id,type:"POST",dataType:"json",data:c,success:function(e){n(e),console.log("------------- Update cart token started -------------"),console.log(e),console.log("------------- Update cart token end     -------------"),n(e)}})}(n,i,function(e){window.location="/cart"})})}},100)},ccFbMRJquery.ajax({url:"/cart/clear.js",type:"GET",dataType:"JSON",success:function(e){n(e)},error:function(e){n(e.responseText)}})}function f(){var e=String(h()).match(/https?\:\/\/([^\/]*)([^\?]*).*/);return null!=e&&e.length>2?e[2]:null}function h(){return window.location.href}function g(){if("undefined"!==window.localStorage.getItem("userCartId")&&null!==window.localStorage.getItem("userCartId")&&"null"!==window.localStorage.getItem("userCartId")){var e={app_id:a||"",page_id:r.ref_facebook_page_id?r.ref_facebook_page_id:"",ref:window.localStorage.getItem("userCartId")?window.localStorage.getItem("userCartId"):"",user_ref:n.user_ref?n.user_ref:""};console.log("ref in userCartId is SET:"+localStorage.getItem("userCartId")),function(){if(1==window.localStorage.getItem("popUpCloseClicked"))return;if(ccFbMRJquery("body").find("#cc-popup-widget-container").length>0)if(ccFbMRJquery("#cc-atcp-table","body").show(),console.log("Popup Displayed"),"undefined"!==window.localStorage.getItem("userCartId")&&null!==window.localStorage.getItem("userCartId")&&"null"!==window.localStorage.getItem("userCartId")){var e=window.localStorage.getItem("userCartId"),i=e.split("-"),n={store:t,cart:i[1]};ccFbMRJquery.ajax({url:o+"/api/cart/store-front/create-pop-up-impression",dataType:"json",type:"POST",data:n,success:function(e){}})}else console.log("userCartId is null & unable to send impression")}()}else{e={app_id:a||"",page_id:r.ref_facebook_page_id?r.ref_facebook_page_id:"",ref:n.ref?n.ref:"",user_ref:n.user_ref?n.user_ref:""};console.log("ref in userCartId NOT SET")}FB.AppEvents.logEvent("MessengerCheckboxUserConfirmation",null,e),console.log("data ref in confirmOptIn:"+e.ref),console.log("confirmOptIn() Function Triggered"),"undefined"!==window.localStorage.getItem("userCartId")&&null!==window.localStorage.getItem("userCartId")&&"null"!==window.localStorage.getItem("userCartId")&&window.localStorage.setItem("userCartId",null)}function b(e,t){if("dev-messenger-12.myshopify.com"==Shopify.shop||"vensazia.myshopify.com"==Shopify.shop){var o='<style type="text/css">@media only screen and (min-width: 1200px){.cc-messenger-discount-popup {width: 100%;}}@media only screen and (max-width: 767px)  {.cc-messenger-discount-popup {width: 100%;}}</style>';ccFbMRJquery("body").append(o)}if("vensazia.myshopify.com"==Shopify.shop){o='<style type="text/css">@media only screen and (min-width: 1200px){.cc-messenger-discount-popup {width: 70%;}}@media only screen and (max-width: 767px)  {.cc-messenger-discount-popup {width: 100%;}}</style>';ccFbMRJquery("body").append(o)}var i=ccFbMRJquery("body").find(".carecart-messenger"),c="";if("ultravioletsaver.myshopify.com"==Shopify.shop||"dev-messenger-15.myshopify.com"==Shopify.shop?c+='<div class="cc-messenger-discount-popup" class="discount-coupon-wrapper-cc" style="width: 300px;display: block;margin: auto;margin-top: 25px;">':"dev-messenger-12.myshopify.com"==Shopify.shop||"vensazia.myshopify.com"==Shopify.shop?c+='<div class="cc-messenger-discount-popup" class="discount-coupon-wrapper-cc">':"the-outlet-x.myshopify.com"==Shopify.shop?c+='<div class="cc-messenger-discount-popup" class="discount-coupon-wrapper-cc" style="width: 400px; height: 280px;">':"thefurzy.myshopify.com"==Shopify.shop?c+='<div class="cc-messenger-discount-popup" style="width: 400px;height: 220px;">':c+='<div class="cc-messenger-discount-popup" class="discount-coupon-wrapper-cc" style="width: 400px;">',"dev-messenger-12.myshopify.com"==Shopify.shop||"vensazia.myshopify.com"==Shopify.shop?c+='<div style="text-align: center;">':c+='<div style="text-align: center;max-width: 400px;">',"ultravioletsaver.myshopify.com"==Shopify.shop||"dev-messenger-15.myshopify.com"==Shopify.shop)c=c+'<h4 style="color: #fff;font-size: 16px;font-weight: 700;">'+e.title+'</h4><p style="color: #fff;font-size: 12px;">'+e.subtitle+"</p>";else{var s=n.checkbox_widget.title_color?n.checkbox_widget.title_color:"#3c495a",r=n.checkbox_widget.subtitle_color?n.checkbox_widget.subtitle_color:"#7a8da4";c=c+'<h4 style="color: '+s+';font-size: 16px;font-weight: 700;">'+e.title+'</h4><p style="color: '+r+';font-size: 12px;">'+e.subtitle+"</p>"}if(c+="</div>","ultravioletsaver.myshopify.com"==Shopify.shop||"dev-messenger-15.myshopify.com"==Shopify.shop)c+='<div class="cc-messenger-checkbox-for-copy" style="border: 1px solid #ededed;padding: 10px 10px 7px;border-radius: 4px;display: inline-flex; width: 280px !important;border-color: transparent !important;">';else if("dev-messenger-12.myshopify.com"==Shopify.shop||"vensazia.myshopify.com"==Shopify.shop)c+='<div class="cc-messenger-checkbox-for-copy" style="background-color: #FFFFFF;border: 1px solid #ededed;padding: 10px 10px 7px;border-radius: 4px;display: inline-flex; max-width: 100%; width: 100%">';else{c=c+'<div class="cc-messenger-checkbox-for-copy" style="background-color: '+("dark"==n.checkbox_widget.text_color?"#383838":"#FFFFFF")+';border: 1px solid #ededed;padding: 10px 10px 7px;border-radius: 4px;display: inline-flex; min-width: 400px !important;">'}"ultravioletsaver.myshopify.com"==Shopify.shop||"dev-messenger-15.myshopify.com"==Shopify.shop?c+='<div style="background-color: transparent;border-color: transparent !important;font-size: 46px;color: #fff;padding: 1px 20px;border-radius: 4px;border: 1px solid #ededed;width: 65px;height: 65px;float: left;margin-right: 10px;text-align: center;">%</div>':c=c+'<div style="background-color: '+(n.checkbox_widget.discount_tag_color?n.checkbox_widget.discount_tag_color:"#ff008a")+';font-size: 24px;color: #fff;padding: 13px 20px;border-radius: 4px;border: 1px solid #ededed;width: 85px;height: 65px;float: left;margin-right: 35px;text-align: center;">%</div>';c=c+'<div style="padding-top: 0px;" class="cc-messenger-checkbox-optin"></div></div><div style="text-align: center;"><a class="cc-dw-btn" style="cursor:pointer;background-color: '+(n.checkbox_widget.buttons_color?n.checkbox_widget.buttons_color:"#00a651")+';color: #fff;font-size: 13px;padding: 12px 25px;position: relative; top: 20px;" type="button">'+e.coupon_button+'</a><br><span style="color: red;display: none;position: relative;top: 35px;" class="cc-checkbox-error">Please first click the "Send to Messenger" Checkbox above</span></div></div>',i.length>0?(ccFbMRJquery(i).append(c),ccFbMRJquery(".cc-messenger-checkbox-optin").append(t)):(ccFbMRJquery('form[action="/cart/add"]').append(c),ccFbMRJquery(".cc-messenger-checkbox-optin").append(t)),"hifinage-the-auditory-sensation.myshopify.com"==Shopify.shop&&(ccFbMRJquery("head").append('<style type="text/css">.cc-messenger-discount-popup {margin-bottom: 40px;} .cc-dw-btn {background-color: #fff !important;border: 1px solid #ddd !important;color: #000 !important;text-transform: uppercase;}</style>'),console.log("hifinage special css"))}function m(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}this.init=function(e,i){scriptInjectionFbMR("https://code.jquery.com/jquery-3.2.1.min.js",function(){window.ccFbMRJquery=jQuery.noConflict(!0),includeAllJSCombine(),function(){ccFbMRJquery.ajaxSetup({xhrFields:{withCredentials:!0}}),ccFbMRJquery("body").on("click","#cc_f-p-close, #ec-email-input-preview",function(e){ccFbMRJquery("#cc-atcp-table","body").hide(),console.log("cc_f-p-close or #ec-email-input-preview Clicked & popup will close now"),window.localStorage.setItem("popUpCloseClicked",1)}),ccFbMRJquery("body").on("click","#cc_f-p-close-thanks",function(e){ccFbMRJquery("#thank-you-html","body").hide(),console.log("cc_f-p-close-thanks & Thank you! popup will close now")}),m("cc-mr-preview-add-to-cart")&&ccFbMRJquery.ajax({url:o+"/api/cart/popupSettings?shop="+t.domain,dataType:"json",type:"GET",success:function(e){e.records.addToCartPopUp;if(!CCSwal.isVisible())return!(ccFbMRJquery("body").find("#cc-atcp-table").length>0)&&void 0}});ccFbMRJquery("body").on("click","#pn-optin-disallow-btn-text",function(){window.localStorage.setItem("cc-pn-subscription-popup","DENIED"),window.localStorage.setItem("cc-pn-subscription-token",""),ccFbMRJquery("#cc_pn_notification_template").hide()}),ccFbMRJquery("body").on("submit",'form[action="/cart/add"]',function(e){"ATC"==s&&"checked"==c&&ccFbMRJquery(".cc_messenger_widget_atc_title").html(n.checkbox_widget.subscribed_text),console.clear(),console.log("add to cart clicked...."),setTimeout(function(){isAjaxFbMR=0,abandonedCartFbMR.process(0)},2e3),0==ccFbMRJquery("#spin_a_sale_cc_store_front_module"+name).length?setTimeout(function(){isAjaxFbMR=0,g()},6e3):setTimeout(function(){isAjaxFbMR=0,g()},2e4)});var e=window.XMLHttpRequest.prototype.send;window.XMLHttpRequest.prototype.send=function(){var t=this,o=window.setInterval(function(){if(4==t.readyState){var e=t.responseURL,i=e.split("/"),n=i[i.length-1];isCartLoadingFbMR||"add.js"!=n&&"change.js"!=n||(isAjaxFbMR=1,console.log("show collector in ajax call"),abandonedCartFbMR.process(0),setTimeout(function(){g()},6e3)),clearInterval(o)}},1);return e.apply(this,[].slice.call(arguments))}}(),console.log("Initialization completed"),"function"==typeof e&&e.apply(this,i)})},this.process=function(y,x,w,v){v||(v=""),l(function(l){1==y&&(l.is_email_captured_by_popup=1);var x,w,_={customer:e,cart:l,store:t,fbUserRef:window.localStorage.getItem("fb_user_ref"),productPagePath:(/https?\:\/\/([^\/]*)(.*\/products[^\?]*).*/,x=String(h()),w=x.match(/https?\:\/\/([^\/]*)(.*\/products[^\?]*).*/),null!=w&&w.length>2?w[2]:null),currentPageUrlWithoutQueryParameters:f(),impressionBy:v};if(p(l))console.log("Recovering cart...");else{console.log("Update cart on command center FBMR");var k="2";try{String(window.localStorage.getItem("cartHash_cached")),k=CryptoJS.MD5(JSON.stringify(l)).toString()}catch(e){}isCheckForCallFbMR?(console.log("FBMR posting create cart"),isCheckForCallFbMR=!1,ccFbMRJquery.ajax({url:o+"/api/cart/store-front/create",dataType:"json",type:"POST",data:_,success:function(e){if(isCheckForCallFbMR=!0,0==e._metadata.outcomeCode&&e.records.cart){e.records.active_interface;var t=e.records.cart;void 0!==t.id&&"undefined"!==t.store_id?(window.localStorage.setItem("userCartId",t.store_id+"-"+t.id),console.log("Cart ID is Set after success")):(window.localStorage.setItem("userCartId",null),console.log("Cart ID is NOT Set after success")),void 0!==e.records.visitor&&"undefined"!==t.store_id?window.localStorage.setItem("store_visitor_id",e.records.visitor):window.localStorage.setItem("store_visitor_id",null);var l=e.records.addToCartPopUp;e.records.isNeedToReInsert&&u(void 0,t);var p=null;if(e.records.hasOwnProperty("stickyDiscount")&&null!=e.records.stickyDiscount?(p=e.records.stickyDiscount,console.log("Sticky Discount Set after success")):console.log("Sticky Discount NOT Set after success"),e.records.hasOwnProperty("messenger")&&null!=e.records.messenger){var f=e.records.messenger;window.localStorage.setItem("messengerData",JSON.stringify(f)),0==d&&(d=!0,function(e,t,d){if(null==e||null==e)return;if(!e.hasOwnProperty("appId")||null==e.appId||!e.appId)return;var l=e.appId;(function(e){window.fbAsyncInit=function(){FB.init({appId:e,autoLogAppEvents:!0,xfbml:!0,version:"v7.0"}),FB.Event.subscribe("send_to_messenger",function(e){console.log("inside the send_to_messenger"),"rendered"==e.event&&console.log("Send to Messenger Plugin was rendered"),"clicked"==e.event&&(ccFbMRJquery("#thank-you-div","body").show(),setTimeout(function(){ccFbMRJquery("#cc-atcp-table","body").hide()},2e3),window.localStorage.setItem("popUpCloseClicked",1),console.log("Send to Messenger Button Clicked & the popup should hide now"))}),FB.Event.subscribe("messenger_checkbox",function(t){if(console.log("messenger_checkbox event"),console.log(t),"rendered"==t.event)console.log("Plugin was rendered"),"dev-messenger-12.myshopify.com"==Shopify.shop||"epilsense.myshopify.com"==Shopify.shop||"devotedwear.myshopify.com"==Shopify.shop?(ccFbMRJquery("head").append('<style type="text/css">.cc-atc-widget-main-container{margin-top: 110px !important;}</style>'),console.log("checkbox styling implemented special")):"ultravioletsaver.myshopify.com"==Shopify.shop||"dev-messenger-15.myshopify.com"==Shopify.shop?(ccFbMRJquery(".cc-messenger-checkbox-for-copy").find("span:first").css({width:"190"}),console.log("Special Discount Widget Color White")):"galt-webshop.myshopify.com"==Shopify.shop?(ccFbMRJquery("head").append('<style type="text/css">.cc_messenger_widget_atc_title {text-transform: none !important;}</style>'),console.log("remove upper case css from h4 of class cc_messenger_widget_atc_title")):"ylff.myshopify.com"==Shopify.shop?(ccFbMRJquery("head").append('<style type="text/css">#trust_seal_ppr { padding-top: 10px;}</style>'),console.log("ylff.myshopify.com custom styling applied")):"77mo.myshopify.com"==Shopify.shop?(ccFbMRJquery("head").append('<style type="text/css">#trust_seal_ppr { padding-top: 15px;}</style>'),console.log("ylff.myshopify.com custom styling applied")):(ccFbMRJquery("head").append('<style type="text/css">.cc-atc-widget-main-container{margin-top: 0 !important;}</style>'),console.log("checkbox styling implemented"));else if("checkbox"==t.event){var o=t.state;console.log("Checkbox state: "+o),"checked"==o?g():console.log("Unchecked"),c=t.state,"checked"==t.state&&(window.localStorage.setItem("fb_user_ref",null),window.localStorage.setItem("fb_user_ref",t.user_ref),console.log("fb_user_ref is set: "+window.localStorage.getItem("fb_user_ref"))),console.log("appId: "+e)}else"not_you"==t.event?console.log("User clicked 'not you'"):"hidden"==t.event&&(console.log("In Hidden .... appId: "+e),console.log("Plugin was hidden"))}),FB.Event.subscribe("customerchat.show",function(e){console.log("customerchat.show event")}),FB.Event.subscribe("customerchat.load",function(e){console.log("customerchat.load event");var t=JSON.parse(window.localStorage.getItem("messengerData")),o=t.facebookMessenger.messenger_position,i=t.facebookMessenger.pixels_from_bottom,n=i-80,c=n+24;ccFbMRJquery("head").append('<style type="text/css">.fb_dialog_advanced {padding: 0}</style>'),i>0&&n>0&&(ccFbMRJquery("head").append('<style type="text/css">.fb-customerchat.fb_invisible_flow.fb_iframe_widget iframe {bottom: '+i+"px !important;}.fb_dialog {position: -webkit-sticky !important;position: fixed !important;bottom: "+n+"px !important;}.fb_dialog_content iframe {bottom: "+c+"px !important;}</style>"),console.log("New styling loaded ... Messenger on "+o+" of screen & "+i+" pixels from bottom")),"left"==o&&(ccFbMRJquery("head").append('<style type="text/css">.fb-customerchat.fb_invisible_flow.fb_iframe_widget iframe {left: 30px !important;}.fb_dialog {position: -webkit-sticky !important;position: fixed !important;left: 30px !important;} .fb_dialog_content iframe {left: 45px !important;}</style>'),console.log("New styling loaded ... Messenger on left side of screen")),"ho-liao.myshopify.com"!=Shopify.shop&&"killwinner-design.myshopify.com"!=Shopify.shop||(ccFbMRJquery("head").append('<style type="text/css">.fb-customerchat.fb_invisible_flow.fb_iframe_widget iframe{left: 0px !important;}</style>'),console.log("Fix FB Messenger view in Mobile View... Previously getting cut"))})},function(e,t,o){var i,n=e.getElementsByTagName(t)[0];if(!e.getElementById(o)){(i=e.createElement(t)).id=o;var c=JSON.parse(window.localStorage.getItem("messengerData")),s=c.facebookPage.fb_lang_iso;i.src="https://connect.facebook.net/"+s+"/sdk/xfbml.customerchat.js",n.parentNode.insertBefore(i,n)}}(document,"script","facebook-jssdk");var t=document.createElement("div");t.setAttribute("id","fb-root"),document.body.appendChild(t)})(l),e.hasOwnProperty("facebookPage")&&null!=e.facebookPage&&e.facebookPage&&(e.hasOwnProperty("facebookMessenger")&&null!=e.facebookMessenger&&e.facebookMessenger&&function(e,t){if(!e.hasOwnProperty("ref_facebook_page_id")||null==e.ref_facebook_page_id||!e.ref_facebook_page_id)return;if(!t.hasOwnProperty("id")||null==t.id||!t.id)return;if(1!=t.is_active)return;if("vapeboss-ph.myshopify.com"==Shopify.shop){console.log("IN vapeboss-ph.myshopify.com STORE");var o=window.location.href,i=o.split("/");if(product_id=null,"products"!=i[3]&&"products"!=i[5]||(product_id=meta.product.id),null===product_id)return void console.log("product_id is null: "+product_id);console.log("product_id is NOT null: "+product_id)}var n=document.createElement("div");n.setAttribute("class","fb-customerchat"),n.setAttribute("attribution","setup_tool"),n.setAttribute("page_id",e.ref_facebook_page_id),n.setAttribute("theme_color",t.theme_color),n.setAttribute("logged_in_greeting",t.logged_in_users_greeting_text),n.setAttribute("logged_out_greeting",t.logged_out_users_greeting_text),n.setAttribute("minimized",t.display_options),document.body.appendChild(n)}(e.facebookPage,e.facebookMessenger),e.hasOwnProperty("facebookCheckboxWidget")&&null!=e.facebookCheckboxWidget&&e.facebookCheckboxWidget&&(n=e.facebookCheckboxWidget,r=e.facebookPage,a=e.appId,function(e,t,o){if(!t.hasOwnProperty("ref_facebook_page_id")||null==t.ref_facebook_page_id||!t.ref_facebook_page_id)return;if(!o.hasOwnProperty("id")||null==o.id||!o.id)return;if(!o.hasOwnProperty("checkbox_widget")||null==o.checkbox_widget||null==o.checkbox_widget.id||!o.checkbox_widget.id)return;if(0==o.is_active)return;var i=o.checkbox_widget,n=document.createElement("div");n.setAttribute("origin",o.origin),n.setAttribute("page_id",t.ref_facebook_page_id),n.setAttribute("messenger_app_id",e),n.setAttribute("user_ref",o.user_ref?o.user_ref:""),n.setAttribute("class","fb-messenger-checkbox"),n.setAttribute("prechecked","true"),n.setAttribute("allow_login","true"),n.setAttribute("size",o.checkbox_widget.size?o.checkbox_widget.size:""),n.setAttribute("skin",o.checkbox_widget.text_color?o.checkbox_widget.text_color:""),n.setAttribute("center_align",1==o.checkbox_widget.center_align?"true":"false");var c='<div style="border: 1px solid #ededed;padding: 10px 10px 17px;border-radius: 4px;" class="cc-atc-widget-main-container"><div class="name-detail name-detail-edit" style="padding-top: 0 !important;"><h4 class="cc_messenger_widget_atc_title">'+o.checkbox_widget.text+'</h4><div id="cc-atc-widget-container"></div></div></div>';if("ATC"==i.type){if(s="ATC","new-gear-day.myshopify.com"==Shopify.shop){console.log("IN vapeboss-ph.myshopify.com STORE");var r=window.location.href,a=r.split("/");if(product_id=null,"products"!=a[3]&&"products"!=a[5]||(product_id=meta.product.id),null===product_id)return void console.log("product_id is null: "+product_id);console.log("product_id is NOT null: "+product_id)}!function(e,t,o){var i=ccFbMRJquery("body").find(".carecart-messenger");i.length>0?(ccFbMRJquery(i).append(e),ccFbMRJquery("#cc-atc-widget-container").append(t)):(ccFbMRJquery('form[action="/cart/add"]').append(e),ccFbMRJquery("#cc-atc-widget-container").append(t));"function"==typeof o&&o()}(c,n,function(){ccFbMRJquery(".cc_messenger_widget_atc_title").css("font-size",o.checkbox_widget.size),"dark"==o.checkbox_widget.text_color?(ccFbMRJquery(".cc-atc-widget-main-container").css("background-color","#383838"),ccFbMRJquery(".cc_messenger_widget_atc_title").css("color","#fff")):(ccFbMRJquery(".cc-atc-widget-main-container").css("background-color",""),ccFbMRJquery(".cc_messenger_widget_atc_title").css("color","#000")),1==o.checkbox_widget.center_align?ccFbMRJquery(".cc_messenger_widget_atc_title").css("text-align","center"):ccFbMRJquery(".cc_messenger_widget_atc_title").css("text-align","left")})}else b(i,n)}(l,e.facebookPage,e.facebookCheckboxWidget)),t.hasOwnProperty("is_active")&&1==t.is_active?(r=e.facebookPage,function(e,t,o){if(!t.hasOwnProperty("ref_facebook_page_id")||null==t.ref_facebook_page_id||!t.ref_facebook_page_id)return;if(!n.hasOwnProperty("id")||null==n.id||!n.id)return;if(0==o.is_active)return;console.log("Inside buildSendToMessengerWidget & is_active == 1");var c=document.createElement("div");c.setAttribute("class","fb-send-to-messenger"),c.setAttribute("messenger_app_id",e),c.setAttribute("page_id",t.ref_facebook_page_id),c.setAttribute("data-ref",n.user_ref?n.user_ref:""),c.setAttribute("color",o.button_background_color_send_to_messenger),c.setAttribute("cta_text",o.button_text_send_to_messenger),c.setAttribute("size","large"),function(e,t,o,n){(function(e,t){if(console.log("In showAddToCartPopup Function"),ccFbMRJquery("body").find("#cc-atcp-table").length>0)return console.log("showAddToCartPopup #cc-atcp-table.length > 0"),!1;if(console.log("showAddToCartPopup #cc-atcp-table.length == 0"),1!=window.localStorage.getItem("popUpCloseClicked")||m("cc-mr-preview-add-to-cart")){var o="",n=""!=e.button_plugin_type?e.button_plugin_type:1,c=""!=e.email_banner_public_url?e.email_banner_public_url:i+"cart-popup.png",s=1==e.heading_is_bold?"bold":"normal",r=1==e.heading_is_italic?"italic":"normal",a=e.heading_font_size+"px",d=e.heading_text_align.toLowerCase(),l=e.heading_color,p=e.heading_text,u=1==e.description_is_bold?"bold":"normal",f=1==e.description_is_italic?"italic":"normal",h=e.description_font_size+"px",g=e.description_text_align.toLowerCase(),b=e.description_color,y=e.description_text,x=e.is_active_powered_by,w="";0==x&&(w='<div id="pn-powered-by-preview" style=" text-align: center;color: #666674;font-size: 12px;margin: 5px;box-sizing: border-box;">Powered by <span style="color:  #2699fb;">CareCart</span></div>');var v=e.email_placeholder,_=e.dismiss_text_color;if(1==n){e.button_is_bold,e.button_is_italic,e.button_font_size,e.button_text_align.toLowerCase();e.button_text_send_to_messenger;var k=e.button_background_color_send_to_messenger;if("blue"==k){k="#0084FF"}else;}else{e.button_is_bold,e.button_is_italic,e.button_font_size,e.button_text_align.toLowerCase();e.button_text_color,e.button_text;var k=e.button_background_color}1==e.is_active_close_button&&(o='<div id="cc_f-p-close" class="close-action" style="    position: absolute;right: 16px;font-size: 16px;cursor: pointer;color: #a6a6a6;">✖</div>');var S='<style type="text/css">.popup-preview{font-family: Open Sans, sans-serif;position: fixed;top: 0;right: 0;left: 0;bottom: 0;width: 37%;background: #fff;margin: 90px auto;z-index: 99999999;border: 1px solid #808080;border-radius: 4px;padding: 15px;box-shadow: 0 0 20px 10px #f5f5f5;-moz-box-shadow: 0 0 20px 10px #f5f5f5;-webkit-box-shadow: 0 0 20px 10px #f5f5f5;-o-box-shadow: 0 0 20px 10px #f5f5f5;max-height: 400px;}@media (min-width: 768px) and (max-width: 1300px) {.popup-preview {width: 70%;}}@media  only screen and (max-height: 400px) {.popup-preview { position: absolute;}}@media  only screen and (max-width: 767px) {.popup-preview { width: 90vw; max-height: inherit !important; margin: auto; max-height: 340px !important; min-height: 340px !important; padding: 20px 2vw !important; top: 20%; margin: 0 auto;} #ec-banner{height: 10vh !important; min-height: 40px;}h2#ec-headline-preview{margin: 10px 0 !important; font-size: 16px !important;}p#ec-description-preview{margin: 0 0 15px !important; line-height: 18px !important; font-size: 13px !important;}.input-custom {margin: 10px 0 !important;}p#ec-email-input-preview {margin: 5px auto 10px;}div#cc-popup-widget-container {    margin: 10px 0 2px !important;  padding-left:65px !important;  }button.custom-button-inline {padding: 1.8vh 14.5vw !important; min-height: 33px;}}div#thank-you-div h5 {    line-height: 0;  margin: 0; margin-top: -6px; margin-bottom: 15px;  color: #0b9037;    }.name-detail.name-detail-edit div#cc-popup-widget-container {padding-left: 90px;}div#cc-popup-widget-container {    margin: 45px 0 25px; }div#pn-powered-by-preview {position: relative;     bottom: -10px;    }img#ec-banner {    margin: 10px auto 15px !important;    }</style><div id="cc-atcp-table" class="popup-preview">'+o+' <div class="img-cart-top"><img id="ec-banner" src="'+c+'"  style="    display: block;    margin-left: auto;    margin-right: auto;"></div>  <h2 id="ec-headline-preview" style="text-transform: unset;font-family: Open Sans, sans-serif;font-size:'+a+" ;color: "+l+" ;text-align: "+d+" ;font-weight: "+s+" ;font-style: "+r+' ;margin: 10px 0px;letter-spacing: 0px;">'+p+'</h2>  <p id="ec-description-preview" style="text-transform: unset;font-family: Open Sans, sans-serif;font-size:'+h+" ;color:"+b+" ;text-align: "+g+" ;font-weight: "+u+" ;font-style:"+f+' ;margin: 0 0 10px;line-height: 15px  ;word-break: break-word ;">'+y+'</p><div id="cc-popup-widget-main-container"><div class="name-detail name-detail-edit" style="padding-top: 0 !important;"><div style="text-align: center;" id="cc-popup-widget-container"></div></div></div>   <div class="inline-button" style="    text-align: center;    padding: 5px 0 35px;">  <div class="input-custom" style="text-align: center;" ><p id="ec-email-input-preview" style="display: block;margin: 5px auto 20px;font-size: 12px;color: '+_+';text-align: center;cursor: pointer;">'+v+'</p>   </div><div class="thank-you-div" id="thank-you-div" style="display: none;"><h5>Thank you for subscribing. </h5></div>'+w+'    <div class="inline-button" style="    text-align: center;    padding: 5px 0 35px;">    </div> </div>   </div>';ccFbMRJquery("body").append(S),"function"==typeof t&&t()}})(o,function(){var o=ccFbMRJquery("body").find("#cc-popup-widget-container");o.length>0?(ccFbMRJquery(o).append(e),ccFbMRJquery("#cc-send-to-messenger-widget-container").append(t)):(console.log("mainElem in else populateSendToMessengerWidget: "),console.log("elem in else populateSendToMessengerWidget: ")),console.log("Should display cc-atcp-table from populateSendToMessengerWidget"),m("cc-mr-preview-add-to-cart")?(ccFbMRJquery("#cc-atcp-table","body").show(),console.log("Preview - Should display cc-atcp-table from populateSendToMessengerWidget")):ccFbMRJquery("#cc-atcp-table","body").hide()}),"function"==typeof n&&n()}('<div id="cc-send-to-messenger-widget-main-container"><div id="cc-send-to-messenger-widget-container"></div></div>',c,o,function(){})}(l,r,t)):console.log("addToCartPopUpData is NOT active"),null!=d&&(d.hasOwnProperty("is_active")&&1==d.is_active||m("cc-mr-preview-sticky-discount")?(r=e.facebookPage,function(e,t,s){console.log("stickyDiscountData is ACTIVE & LOADING"),function(e,t){var o=e.pixels_from_corner,i=e.sticky_position,n="bottom: "+o+"px;left: 7px;",c="top: "+o+"px;left: 7px;z-index: 99999;",s="top: "+o+"px;right: 7px;z-index: 99999;",r="bottom: "+o+"px;right: 7px;z-index: 99999;",a=n;"sallahps.myshopify.com"==Shopify.shop&&ccFbMRJquery("head").append("<style>@media only screen and (max-width: 768px) {.sticky-discount-box-collapse-view-cc, .sticky-discount-box-open-view-cc, .sticky-discount-box-subscribed-view-cc { bottom: 47px !important;}} .sticky-discount-box-open-view-cc .close-action, .sticky-discount-box-subscribed-view-cc .close-action{left: 8px !important; right: unset !important;}.sticky-discount-box-collapse-view-image-cc i { transform: rotate(92deg) !important; }.sticky-discount-box-collapse-view-image-cc {-webkit-clip-path: polygon(0% 0%, 32% 0%, 0% 50%, 100% 213%, 100% 0) !important; clip-path: polygon(0% 0%, 32% 0%, 0% 50%, 100% 213%, 100% 0) !important;padding: 10px 20px 8px 15px !important;}</style>"),a="right_top"==i?s:"left_top"==i?c:"right_bottom"==i?r:n;var d='<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><style>.sticky-discount-box-collapse-view-cc {display: flex !important;width: fit-content;position: unset;min-width: 40px;align-items: center;cursor: pointer;outline: none;border: 2px solid '+e.theme_color+";color: #fff;border-top-right-radius: 5px;border-bottom-right-radius: 5px;background-color: "+e.theme_color+";position: fixed;"+a+"z-index: 111;}span.sticky-discount-box-collapse-view-text-cc {font-size: 20px;font-weight: bold;margin-left: 8px;margin-right: 10px;}.sticky-discount-box-collapse-view-image-cc {display: flex;justify-content: center;align-items: center;-webkit-clip-path: polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%);clip-path: polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%);padding: 10px 25px 8px 10px;background-color: #fff;}img.sticky-discount-box-collapse-view-image-cc img{width: 52px;height: 44px;}.sticky-discount-box-collapse-view-image-cc i {color: "+e.theme_color+';transform: rotate(100deg);font-size: 35px;}</style><div id="sticky-discount-collapsed-div"><div class="sticky-discount-box-collapse-view-cc standard-theme-bg-2020-cc standard-theme-border-2020-cc"><div class="sticky-discount-box-collapse-view-image-cc"><i class="fa fa-tags standard-theme-color-2020-cc" aria-hidden="true"></i></div><span class="sticky-discount-box-collapse-view-text-cc">'+e.offer+"</span></div></div>";ccFbMRJquery("body").append(d)}(s),showStickyDiscountOpenViewLoad||function(e,t,o,c){if(showStickyDiscountOpenViewLoad)return;showStickyDiscountOpenViewLoad=!0;var s=document.createElement("div");s.setAttribute("origin",n.origin),s.setAttribute("page_id",t.ref_facebook_page_id),s.setAttribute("messenger_app_id",e),s.setAttribute("user_ref",n.user_ref?n.user_ref:""),s.setAttribute("class","fb-messenger-checkbox"),s.setAttribute("prechecked","true"),s.setAttribute("allow_login","true"),s.setAttribute("size","large"),s.setAttribute("skin","light"),s.setAttribute("center_align","true");var r=o.pixels_from_corner,a=o.sticky_position,d="bottom: "+r+"px;left: 7px;z-index: 99999;",l="top: "+r+"px;left: 7px;z-index: 99999;",p="top:"+r+"px;right: 7px;z-index: 99999;",u="bottom:"+r+"px;right: 7px;z-index: 99999;",f=d;f="right_top"==a?p:"left_top"==a?l:"right_bottom"==a?u:d;var h="<style>.sticky-discount-box-open-view-cc {align-items: center;flex-direction: row;height: 250px;width: 545px;display: flex !important;position: unset;box-shadow: none;border: 2px solid "+o.theme_color+";border-top-right-radius: 5px;border-bottom-right-radius: 5px;position: fixed;background-color: #fff;"+f+"}.sticky-discount-box-open-view-cc .close-action {position: absolute;right: 8px;font-size: 16px;color: "+o.theme_color+";top: 3px;z-index: 99;cursor: pointer;}.sticky-discount-open-view-image-left-block-cc {background-color: "+o.theme_color+";display: flex;align-items: center;justify-content: center;flex-basis: 165px;height: 100%;}span.sticky-discount-open-view-left-content-cc {font-size: 30px;font-weight: bold;text-align: center;color: #ffffff;text-transform: uppercase;padding: 0.5rem 0 30px;}img.discount-sticky-star-cc {display: block;margin: auto;}img.sticky-discount-open-view-image-cc {position: absolute;}.sticky-discount-box-open-view-right-content-cc {width: 100%;flex: 1;display: flex;justify-content: space-between;flex-direction: column;position: relative;padding-bottom: 60px;box-sizing: border-box;background-color: #ffffff;}.sticky-discount-open-view-left-content-text-cc {padding: 10px 10px 0 10px;text-align: center;}h3.sticky-discount-open-view-left-content-cc-title {font-size: 18px;font-weight: 600;color: "+o.headline_color+";margin-bottom: 10px;display: inline-block;margin-top: 5px;}h4.sticky-discount-open-view-left-content-cc-description {font-size: 13px;color: "+o.description_color+";margin: 0;line-height: 20px;}.sticky-discount-open-view-left-content-text-cc img.messenger-checkbox-img {width: 150px;height: 44px;display: block;margin: 10px auto 0px;}.sticky-discount-open-view-left-content-footer-cc {margin-top: 1rem;justify-content: center;align-items: center;display: flex;position: absolute;bottom: 15px;width: 100%;}button.sticky-discount-box-open-view-button {all: unset;min-width: 60px;background-color: "+o.theme_color+';color: #ffffff;display: inline-block;padding: 8.5px 2rem;font-weight: bold;font-size: 14px;text-align: center;cursor: pointer;-webkit-text-fill-color: #ffffff;}span#cc-sticky-checkbox-error {font-size: 10px;display: block;text-align: center;color: #f00;line-height: 1;position: absolute;bottom: -19px;left: 40px;} @media screen and (max-width: 767px) {.sticky-discount-box-subscribed-view-cc,.sticky-discount-box-open-view-cc{ height: 175px; width: 370px; }   span.sticky-discount-open-view-left-content-cc {        font-size: 18px;        padding: 1.5rem 15px 30px;  }h3.sticky-discount-open-view-left-content-cc-title { font-size: 14px;margin-bottom: 5px; }h4.sticky-discount-open-view-left-content-cc-description { font-size: 11px;  line-height: 13px; }  button#sticky-discount-subscribe-btn { font-size: 12px; padding: 6px 2rem; }  .sticky-discount-box-open-view-right-content-cc {   padding-bottom: 35px; }.sticky-discount-open-view-left-content-footer-cc {bottom: 14px }.sticky-discount-open-view-left-content-text-cc {    padding: 5px 0 0 0px; }span#cc-sticky-checkbox-error {    bottom: -14px; left: 9px; } }</style><div id="sticky-discount-open-view-div" style="display: none;"><div class="sticky-discount-box-open-view-cc standard-theme-border-2020-cc"><div class="close-action standard-theme-color-2020-cc close-sticky-open-view"> ✖ </div><div class="sticky-discount-open-view-image-left-block-cc standard-theme-bg-2020-cc"><img src="'+i+'sticky-discount-bg-left.png" class="sticky-discount-open-view-image-cc"><span class="sticky-discount-open-view-left-content-cc"><img src="'+i+'discount-star.png" class="discount-sticky-star-cc">'+o.offer+'</span></div><div class="sticky-discount-box-open-view-right-content-cc"><div class="sticky-discount-open-view-left-content-text-cc"><h3 class="sticky-discount-open-view-left-content-cc-title">'+o.headline+'</h3><h4 class="sticky-discount-open-view-left-content-cc-description">'+o.description+'</h4><div id="sticky-discount-fb-checkbox-widget"></div></div><div class="sticky-discount-open-view-left-content-footer-cc"><button class="sticky-discount-box-open-view-button standard-theme-bg-2020-cc" id="sticky-discount-subscribe-btn">'+o.button_text+'</button><br/><span style="display: none;" id="cc-sticky-checkbox-error">Please first click the "Send to Messenger" Checkbox above</span></div></div></div></div>';ccFbMRJquery("body").append(h);var g=ccFbMRJquery("body").find("#sticky-discount-fb-checkbox-widget");g.length>0&&(console.log("careCartMessengerDiv FOUND"),ccFbMRJquery(g).append(s))}(e,t,s);showStickyDiscountSubscribedViewLoad||function(e,t){if(showStickyDiscountSubscribedViewLoad)return;var o=e.pixels_from_corner,n=e.sticky_position;showStickyDiscountOpenViewLoad=!0;var c="bottom: "+o+"px;left: 7px;z-index: 99999;",s="top: "+o+"px;left: 7px;z-index: 99999;",r="top: "+o+"px;right: 7px;z-index: 99999;",a="bottom: "+o+"px;right: 7px;z-index: 99999;",d=c;d="right_top"==n?r:"left_top"==n?s:"right_bottom"==n?a:c;var l="<style>.sticky-discount-box-subscribed-view-cc {align-items: center;flex-direction: row;height: 250px;width: 545px;display: flex !important;position: unset;box-shadow: none;border: 2px solid "+e.theme_color+";border-top-right-radius: 5px;border-bottom-right-radius: 5px;position: fixed;background-color: #fff;"+d+"}.sticky-discount-subscribed-view-image-left-block-cc {background-color: "+e.theme_color+";display: flex;align-items: center;justify-content: center;flex-basis: 165px;height: 100%;}.sticky-discount-box-subscribed-view-cc .close-action {position: absolute;right: 8px;font-size: 16px;color: "+e.theme_color+";top: 3px;z-index: 99;cursor: pointer;}img.sticky-discount-subscribed-view-image-cc {position: absolute;}span.sticky-discount-subscribed-view-left-content-cc {font-size: 30px;font-weight: bold;text-align: center;color: #ffffff;text-transform: uppercase;padding: 0.5rem;}span.sticky-discount-subscribed-view-left-content-cc img{display: block;margin: auto;}.sticky-discount-box-subscribed-view-right-content-cc {width: 100%;flex: 1;display: flex;justify-content: space-between;flex-direction: column;position: relative;padding-bottom: 60px;box-sizing: border-box;background-color: #ffffff;}.sticky-discount-subscribed-view-left-content-text-cc {padding: 10px 10px 0 10px;text-align: center;}h3.sticky-discount-subscribed-view-left-content-cc-title {font-size: 18px;font-weight: 600;color: "+e.headline_color+";margin-bottom: 15px;display: inline-block;margin-top: 10px;}h4.sticky-discount-subscribed-view-left-content-cc-description {font-size: 13px;color: "+e.description_color+";margin: 0 0 10px;line-height: 20px;}.sticky-discount-subscribed-view-left-content-footer-cc {margin-top: 1rem;justify-content: center;align-items: center;display: flex;position: absolute;bottom: 8px;width: 100%;}button.sticky-discount-box-subscribed-view-button {all: unset;min-width: 60px;background-color: "+e.theme_color+";color: #ffffff;display: inline-block;padding: 8.5px 2rem;font-weight: bold;font-size: 14px;text-align: center;cursor: pointer;-webkit-text-fill-color: #ffffff;}.code-color-discount{color: "+e.theme_color+";font-weight: bold;}a#plain-offer-code-2020-cc {all: unset;min-width: 60px;background-color: "+e.theme_color+';color: #ffffff;display: inline-block;padding: 8.5px 2rem;font-weight: bold;font-size: 14px;text-align: center;cursor: pointer;-webkit-text-fill-color: #ffffff;} @media screen and (max-width: 767px) {.sticky-discount-box-subscribed-view-cc{ height: 175px; width: 360px; }   span.sticky-discount-subscribed-view-left-content-cc {        font-size: 18px;        padding: 1.5rem 15px 30px;  }h3.sticky-discount-subscribed-view-left-content-cc-title { font-size: 14px;margin-bottom: 5px; }h4.sticky-discount-subscribed-view-left-content-cc-description { font-size: 11px;  line-height: 13px; }  a#plain-offer-code-2020-cc { font-size: 12px; padding: 6px 2rem; }  .sticky-discount-box-subscribed-view-right-content-cc {   padding-bottom: 35px; }.sticky-discount-subscribed-view-left-content-footer-cc {bottom: 7px }.sticky-discount-subscribed-view-left-content-text-cc {    padding: 5px 0 30px 0px; }span#cc-sticky-checkbox-error {    bottom: -14px; left: 9px; }.sticky-discount-subscribed-view-image-left-block-cc { flex-basis: 90px; }  span.sticky-discount-subscribed-view-left-content-cc img {height: 50px; } }</style><div id="sticky-discount-subscribed-view-div" style="display: none;"><div class="sticky-discount-box-subscribed-view-cc standard-theme-border-2020-cc"><div class="close-action standard-theme-color-2020-cc close-sticky-open-view"> ✖ </div><div class="sticky-discount-subscribed-view-image-left-block-cc standard-theme-bg-2020-cc"><img src="'+i+'sticky-discount-bg-left.png" class="sticky-discount-subscribed-view-image-cc"><span class="sticky-discount-subscribed-view-left-content-cc"><img src="'+i+'donemark.svg" class="discount-sticky-star-cc"></span></div><div class="sticky-discount-box-subscribed-view-right-content-cc"><div class="sticky-discount-subscribed-view-left-content-text-cc"><h3 class="sticky-discount-subscribed-view-left-content-cc-title">'+e.subscribed_view_headline+' <span class="code-color-discount standard-theme-color-2020-cc" id="plain-offer-code-2020-cc">'+e.offer_code+'  </span></h3><h4 class="sticky-discount-subscribed-view-left-content-cc-description">'+e.subscribed_view_description+' </h4></div><div class="sticky-discount-subscribed-view-left-content-footer-cc" id="copy-sticky-discount-parent"><a id="plain-offer-code-2020-cc" type="button" name="copy_sticky_pre">'+e.subscribed_view_button_text+"</a></div></div></div></div>";ccFbMRJquery("body").append(l)}(s);ccFbMRJquery("body").on("click","#sticky-discount-collapsed-div",function(){if(ccFbMRJquery("#sticky-discount-collapsed-div").hide(),ccFbMRJquery("#sticky-discount-open-view-div").show(),ccFbMRJquery("#sticky-discount-fb-checkbox-widget").find("span:first").css({width:"280px",height:"70px"}),ccFbMRJquery("#sticky-discount-fb-checkbox-widget").find("iframe").css({width:"280px",height:"70px"}),"undefined"!==window.localStorage.getItem("stickyDiscountImpressionSaved")&&null!==window.localStorage.getItem("stickyDiscountImpressionSaved")&&"null"!==window.localStorage.getItem("stickyDiscountImpressionSaved"));else if("undefined"!==window.localStorage.getItem("store_visitor_id")&&null!==window.localStorage.getItem("store_visitor_id")&&"null"!==window.localStorage.getItem("store_visitor_id")){var e=s.store_id,t=window.localStorage.getItem("store_visitor_id"),i={store:e,store_visitor_id:t};ccFbMRJquery.ajax({url:o+"/api/sticky-discount/sticky-discount-impression-save",dataType:"json",type:"POST",data:i,success:function(e){window.localStorage.setItem("stickyDiscountImpressionSaved",1),console.log("response Success: "+e.data)}})}}),ccFbMRJquery("body").on("click",".close-sticky-open-view",function(){ccFbMRJquery("#sticky-discount-open-view-div").hide(),ccFbMRJquery("#cc-sticky-checkbox-error").hide(),ccFbMRJquery("#sticky-discount-subscribed-view-div").hide(),ccFbMRJquery("#sticky-discount-collapsed-div").show()}),ccFbMRJquery("body").on("click","#sticky-discount-subscribe-btn",function(){console.log("sticky discount button clicked"),null==c||"unchecked"==c?ccFbMRJquery("#cc-sticky-checkbox-error").show():(ccFbMRJquery("#sticky-discount-open-view-div").hide(),ccFbMRJquery("#sticky-discount-collapsed-div").hide(),ccFbMRJquery("#cc-sticky-checkbox-error").hide(),ccFbMRJquery("#sticky-discount-subscribed-view-div").show())}),ccFbMRJquery("body").on("click","a[name=copy_sticky_pre]",function(){var e=ccFbMRJquery(this).attr("id"),t=document.getElementById(e),o=document.createRange();o.selectNodeContents(t);var i=window.getSelection();return i.removeAllRanges(),i.addRange(o),document.execCommand("copy"),alert("Code copied to clipboard."),!1})}(l,r,d)):console.log("stickyDiscountData is NOT active")))}(f,l,p))}console.log("shop: "+Shopify.shop),window.localStorage.setItem("cartHash_cached",k)}1==e._metadata.outcomeCode&&console.log(e._metadata.message)},error:function(e){console.log("Something Went Wrong Mate! Contact app-mr Support")}})):console.log("FBMR NOT posting create cart")}})},scriptInjectionFbMR("https://code.jquery.com/jquery-3.2.1.min.js",function(){window.ccFbMRJquery=jQuery.noConflict(!0),ccFbMRJquery("body").on("click",".cc-dw-btn",function(){var e="cc-dw-copy-"+Math.floor(1e4*Math.random()+1),t=n.checkbox_widget.buttons_color?n.checkbox_widget.buttons_color:"#00a651",o=n.checkbox_widget.discount_text_code_color?n.checkbox_widget.discount_text_code_color:"",i=n.checkbox_widget.discount_code_color?n.checkbox_widget.discount_code_color:"",s='<div style="background-color: '+t+';font-size: 24px;color: #fff;padding: 4px 20px;border-radius: 4px;border: 1px solid #ededed;width: 85px;height: 45px;float: left;margin-right: 35px;text-align: center;"><i class="fa fa-check"></i></div><h5 style="margin-top:15px"><span style="word-break: break-all;color: '+o+' ">'+n.checkbox_widget.discount_text+'</span><span id="'+e+'" style="word-break: break-all;color: '+i+' ">'+n.checkbox_widget.discount_code+"</span></h5>";null==c||"unchecked"==c?ccFbMRJquery(this).siblings("span:first").show():(ccFbMRJquery(".cc-checkbox-error").hide(),ccFbMRJquery(this).html(n.checkbox_widget.copy_button),ccFbMRJquery(this).attr("id",e),ccFbMRJquery(this).attr("name","copy_pre"),ccFbMRJquery(".cc-messenger-checkbox-for-copy").html(s))}),ccFbMRJquery("body").on("click","a[name=copy_pre]",function(){var e=ccFbMRJquery(this).attr("id"),t=document.getElementById(e),o=document.createRange();o.selectNodeContents(t);var i=window.getSelection();return i.removeAllRanges(),i.addRange(o),document.execCommand("copy"),alert("Code copied to clipboard."),!1})})}var abandonedCartFbMR=new AbandonedCartFbMR;abandonedCartFbMR.init(abandonedCartFbMR.process,[0],0);